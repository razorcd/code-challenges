require 'test/unit'
require_relative '../../maximize_sum/maximize_sum'

class MaximizeSumTest < Test::Unit::TestCase
  def test_case_1
    assert_equal(MaximizeSum.new([3, 3, 9, 9, 5]).biggest_subarray_sum_modulo(7), 6)
  end

  def test_case_2
    arr= "354724723 116663117 1885681600 474513639 2048518168 1798715778 1154451359 560856756 1265212167 1048886968 639685644 1765763845 1962254641 1433464549 499924441 1054240376 1022523980 388882895 1541208731 970773431 1604797159 1508755786 352886413 1673921314 1488688549 422151782 1680803283 240145938 743965900 1827917457 1639906102 1098690623 1944580573 1378104053 1573204261 1845615092 1029336182 580171972 258988200 147064700 1629058939 898673843 1912828544 1443829931 184654743 265269336 350586658 1207178723 654152230 1891795388 30468505 111465741 1253067526 383354917 1785387054 594272426 805506698 1318706689 834418363 1549472597 999140497 326840816 500679571 796237422 1704944868 2073883832 494368865 586797401 506572155 753357064 733862100 2135631093 1652030907 499206995 1431977375 1836685649 764476331 1782564032 896380723 1418628560 1526875771 926849227 1530094300 632459648 1310204143 1167997706 1226732073 2115710840 339220746 2061150436 1517699789 1338361242 240507603 2018379359 2134598663 1945452471 1944779542 481483880 384766223 303868048
100 1234840943".split(" ").map(&:to_i)
    assert_equal(MaximizeSum.new(arr).biggest_subarray_sum_modulo(1399760164), 1398956404)
  end

  def test_case_3
    arr= "203127293 1810567409 1694525957 2132028342 765367104 1676912392 1806667700 330099109 1608434267 858005685 623442977 1472764890 1852264582 1351071376 326017095 270817506 1882592618 1859348412 1843305276 422660251 168907098 1626045134 976855454 1939892044 1517687088 1094398310 674127936 2118053729 1157783717 1059010315 60150593 1360911010 722094075 1754676549 1345455703 1487461179 1284105292 1004639755 1817560287 745055910 1862645439 293519615 70337151 1567426372 1644590990 396354246 1838243877 1379699959 108219009 1534065504 1802360210 277126106 1012626989 631732015 69534501 382830429 1726130324 743662437 353400509 736430392 1802672751 413551101 2097341401 377283177 20744001 1295313456 1864744355 1304849292 152469562 1534820993 2049905202 2015115000 1828340607 2120242352 1435057723 1325447949 369112949 1125817951 557664259 477331957 512399806 212540820 754458063 1525026795 844272834 823992563 1907857223 422919509 1567654999 113774083 1159349901 1222844101 527325184 1109207653 1600127278 548069184 257037460 1317387984 1852918476 409507021".split(" ").map(&:to_i)
    assert_equal(MaximizeSum.new(arr).biggest_subarray_sum_modulo(89580512), 89578491)
  end

  def test_subarray
    assert_equal(MaximizeSum.new([3, 3, 9, 7]).send(:subarrays).sort,
      [[3], [3], [9], [7], [3,3], [3,9], [9,7], [3,3,9], [3,9,7], [3,3,9,7]].sort)
  end
end
